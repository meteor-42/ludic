# ========================================
# Конфигурация для проекта Ludic
# ========================================
# Скопируйте этот файл в .env и заполните своими значениями
# cp .env.example .env

# ========================================
# Frontend (Vite) - только для разработки
# ========================================
VITE_API_URL=http://localhost:8090
VITE_MODE=development

# ========================================
# Backend (Express server) - для продакшна
# ========================================
NODE_ENV=production

# Основной домен (без www и без протокола)
PRIMARY_DOMAIN=xn--d1aigb4b.xn--p1ai

# Настройки редиректов
ENABLE_WWW_REDIRECT=true  # Редирект с www на non-www
FORCE_HTTPS=true          # Редирект с HTTP на HTTPS (работает только если есть SSL сертификаты)

# Токен для GitHub webhooks (для автоматического деплоя)
# Генерация: openssl rand -hex 32
DEPLOY_TOKEN=your_secret_token_here

# Порты
PORT=443           # HTTPS порт (основной)
HTTP_PORT=80       # HTTP порт (для редиректа на HTTPS)

# URL PocketBase (ВАЖНО!)
# Если PocketBase запущен на том же сервере:
POCKETBASE_URL=http://127.0.0.1:8090
# Если PocketBase на другом сервере:
# POCKETBASE_URL=http://pocketbase.example.com:8090

# ========================================
# SSL сертификаты (для продакшна)
# ========================================
# Если сертификаты Let's Encrypt:
TLS_KEY=/etc/letsencrypt/live/xn--d1aigb4b.xn--p1ai/privkey.pem
TLS_CERT=/etc/letsencrypt/live/xn--d1aigb4b.xn--p1ai/cert.pem
TLS_CA=/etc/letsencrypt/live/xn--d1aigb4b.xn--p1ai/chain.pem

# Если самоподписанные сертификаты для тестирования:
# TLS_KEY=/path/to/server.key
# TLS_CERT=/path/to/server.crt
# TLS_CA=

# Если хотите запустить в HTTP режиме (только для тестирования!):
# Закомментируйте TLS_KEY, TLS_CERT, TLS_CA и установите:
# FORCE_HTTPS=false
# PORT=8080

# ========================================
# Отладка
# ========================================
DEBUG=false  # Установите true для подробных логов прокси

# ========================================
# PM2 конфигурация (опционально)
# ========================================
# PM2_NAME=ludic-server
# PM2_INSTANCES=1
# PM2_MAX_MEMORY_RESTART=1G
